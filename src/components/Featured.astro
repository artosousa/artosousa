---
import { Image } from 'astro:assets';
import { type Asset, type Entry, type EntryFieldTypes } from 'contentful';

interface ProjectFields {
    fields: any,
    title: EntryFieldTypes.Text;
    projectUrl: EntryFieldTypes.Text;
    projectImage: Asset;
    projectLogo: Asset;
}
const { title, projects } = Astro.props as { title: string; projects: ProjectFields[] };
---

<section id="featured" class="px-8 lg:px-0  py-[163px] relative h-screen flex flex-col items-center justify-center">
    <h1 class="uppercase mb-[38px] font-bold text-[42px]">{title}</h1>
    <ul class="container mt-[27px] h-full inline-flex flex-col lg:flex-row gap-40 lg:gap-20 items-stretch">
        {projects.map((project) => {
            console.log(project.fields.projectImage.fields.file.details.image.width)
            return (
                <li class="flex-1 lg:w-1/3 w-full flex items-center justify-center flex-col">
                    <a class="block h-full w-full" href={project.fields.projectUrl} target="_blank" title={project.fields.title} >
                        <div class="flex items-center justify-center bg-gray-100  rounded-[30px]">
                            <Image 
                                width={project.fields.projectImage.fields.file.details.image.width} 
                                height={project.fields.projectImage.fields.file.details.image.height}  
                                class="h-full w-auto" 
                                src={project.fields.projectImage.fields.file.url} 
                                title={project.fields.title} 
                                alt={`${project.fields.projectImage.fields.title} thumbnail`} 
                            />
                        </div>
                        <div class="h-[15%] py-8 flex items-center justify-center">
                            <Image 
                                width={project.fields.projectLogo.fields.file.details.image.width} 
                                height={project.fields.projectLogo.fields.file.details.image.height}  
                                class="lg:top-8 relative" 
                                src={project.fields.projectLogo.fields.file.url} 
                                title={project.fields.title} 
                                alt={`${project.fields.projectLogo.fields.title} thumbnail`} 
                            />
                        </div>
                    </a>
                </li>
                
            )
        })}
    </ul>
 
</section>
 